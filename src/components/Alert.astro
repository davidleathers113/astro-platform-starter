---
import InfoIcon from './icons/InfoIcon.astro';

interface Props {
    class?: string;
    type?: 'info' | 'warning' | 'error' | 'success';
}

const { class: className, type = 'info' } = Astro.props;

// Determine theme-aware color classes based on type for proper contrast in both light and dark modes
const colorClasses = {
    info: 'bg-blue-100 dark:bg-blue-900 text-blue-900 dark:text-blue-100 border border-blue-200 dark:border-blue-800',
    warning: 'bg-yellow-100 dark:bg-yellow-900 text-yellow-900 dark:text-yellow-100 border border-yellow-200 dark:border-yellow-800',
    error: 'bg-red-100 dark:bg-red-900 text-red-900 dark:text-red-100 border border-red-200 dark:border-red-800',
    success: 'bg-green-100 dark:bg-green-900 text-green-900 dark:text-green-100 border border-green-200 dark:border-green-800'
};

const activeColorClass = colorClasses[type];
---

<div class:list={[
    'flex gap-4 p-4 rounded-lg shadow-md dark:shadow-gray-900 transition-colors duration-300',
    activeColorClass,
    className
]}>
    <InfoIcon class="w-6 h-6 shrink-0 opacity-80" />
    <div class="flex-1">
        <slot />
    </div>
</div>